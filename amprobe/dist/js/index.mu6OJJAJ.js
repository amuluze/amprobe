import{u as o,j as e,s as t,D as s,p as n,q as a,b as u,d}from"./base.CwKrOXiL.js";import{t as r}from"./error.D_Dr4eZ1.js";import{g as l}from"./scroll.B2RFdPg8.js";import{a1 as c,c as i,w as m,ac as p,ad as y,d as f,m as v,f as b,R as k}from"./index.DR6loZJs.js";import{P as x}from"./vnode.B-TQM2jz.js";const M=(u,d={})=>{c(u)||r("[useLockscreen]","You need to pass a ref param to this function");const y=d.ns||o("popup"),f=i((()=>y.bm("parent","hidden")));if(!e||t(document.body,f.value))return;let v=0,b=!1,k="0";const x=()=>{setTimeout((()=>{a(null==document?void 0:document.body,f.value),b&&document&&(document.body.style.width=k)}),200)};m(u,(o=>{if(!o)return void x();b=!t(document.body,f.value),b&&(k=document.body.style.width),v=l(y.namespace.value);const e=document.documentElement.clientHeight<document.body.scrollHeight,a=s(document.body,"overflowY");v>0&&(e||"scroll"===a)&&b&&(document.body.style.width=`calc(100% - ${v}px)`),n(document.body,f.value)})),p((()=>x()))},w=o=>{if(!o)return{onClick:y,onMousedown:y,onMouseup:y};let e=!1,t=!1;return{onClick:s=>{e&&t&&o(s),e=t=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},g=u({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:d([String,Array,Object])},zIndex:{type:d([String,Number])}});const C=f({name:"ElOverlay",props:g,emits:{click:o=>o instanceof MouseEvent},setup(e,{slots:t,emit:s}){const n=o("overlay"),{onClick:a,onMousedown:u,onMouseup:d}=w(e.customMaskEvent?void 0:o=>{s("click",o)});return()=>e.mask?v("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:u,onMouseup:d},[b(t,"default")],x.STYLE|x.CLASS|x.PROPS,["onClick","onMouseup","onMousedown"]):k("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[b(t,"default")])}});export{C as E,M as a,w as u};
