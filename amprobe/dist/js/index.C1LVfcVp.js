import"./base.CwKrOXiL.js";import{u as e,z as a,E as t,a as r,b as s,c as o,v as i}from"./zh-cn.DYEbico1.js";import"./el-overlay.CI2e2OO9.js";import{E as n}from"./el-card.w3-18o3J.js";import"./el-select.BLelAYUm.js";import"./el-popper.DMOJ8Ypx.js";import"./el-tooltip.l0sNRNKZ.js";import{a as l,e as p,p as m}from"./index.Bgpk65Je.js";import{E as d}from"./index.PfrcTW0-.js";import{E as c}from"./index.C6eNzBMW.js";import{E as g}from"./index.v0D0o9LE.js";import{d as u,j as h,r as f,e as j,D as w,m as v,v as b,F as y,o as C,A as _,E as x,u as z,x as k,_ as E}from"./index.DR6loZJs.js";import"./index.BNy-OgOy.js";import"./use-form-item.KseOUpWN.js";import"./event.CWrEFZfq.js";import"./error.D_Dr4eZ1.js";import"./_Uint8Array.ClTZMasr.js";import"./_initCloneObject.Blw69Ayb.js";import"./strings.Ck4ADK9s.js";import"./scroll.B2RFdPg8.js";import"./castArray.BhBSoVDq.js";import"./focus-trap.GHIWC1jm.js";import"./index.mu6OJJAJ.js";import"./vnode.B-TQM2jz.js";import"./aria.C-hsWcn7.js";const A={class:"am-image-title"},$={class:"am-image-operator"},B={class:"am-table"},D={class:"am-pagination"},O=E(u({__name:"index",setup(u){h((()=>{S()}));const E=f(0),{data:O,refresh:S,loading:T,pagination:I}=e(l,{},{}),P=()=>{m().then((()=>{d({type:"success",message:"清理完成"})}))};return(e,l)=>{const m=g,u=n,h=t,f=r,U=s,q=o,F=i;return C(),j(y,null,[w("div",A,[w("span",{onClick:l[0]||(l[0]=a=>e.$router.push("/docker/container"))},"容器"),w("span",{onClick:l[1]||(l[1]=a=>e.$router.push("/docker/image"))},"镜像"),w("span",{onClick:l[2]||(l[2]=a=>e.$router.push("/docker/network"))},"网络"),w("span",{onClick:l[3]||(l[3]=a=>e.$router.push("/docker/settings"))},"配置")]),w("div",$,[v(u,{shadow:"never"},{default:b((()=>[v(m,{type:"primary"},{default:b((()=>[_("拉取镜像")])),_:1}),v(m,{type:"primary"},{default:b((()=>[_("导入镜像")])),_:1}),v(m,{type:"warning",onClick:P},{default:b((()=>[_("清理虚悬镜像")])),_:1})])),_:1})]),v(u,{shadow:"never"},{default:b((()=>[w("div",B,[x((C(),k(f,{data:z(O),key:z(E),"highlight-current-row":"",height:"100%",stripe:""},{default:b((()=>[v(h,{prop:"id",label:"镜像 ID",align:"center",width:"120",fixed:"",sortable:""}),v(h,{prop:"name",label:"镜像名称",align:"center","min-width":"150","show-overflow-tooltip":"",fixed:"",sortable:""}),v(h,{prop:"number",label:"容器数量",align:"center","show-overflow-tooltip":"",width:"120",sortable:""}),v(h,{prop:"tag",label:"镜像 Tag",align:"center","show-overflow-tooltip":"",width:"120"}),v(h,{prop:"created",label:"创建时间",align:"center",width:"200",sortable:""}),v(h,{prop:"size",label:"镜像大小",align:"center",width:"120",sortable:""}),v(h,{label:"操作",width:"160",fixed:"right",align:"center"},{default:b((e=>[v(m,{type:"danger",plain:"",size:"small"},{default:b((()=>[_(" 导出 ")])),_:1}),v(m,{type:"danger",plain:"",size:"small",onClick:a=>{return t=e.row.id,void c.confirm("该操作会删除该镜像. 继续吗?","警告",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{p({image_id:t}).then((()=>{d({type:"success",message:"删除完成"})})).finally((()=>{S(),E.value+=1}))})).catch((()=>{d({type:"info",message:"删除取消"})}));var t}},{default:b((()=>[_(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[F,z(T)]])]),w("div",D,[v(q,{locale:z(a)},{default:b((()=>[v(U,{"current-page":z(I).page,"onUpdate:currentPage":l[4]||(l[4]=e=>z(I).page=e),"page-size":z(I).size,layout:"total, sizes, prev, pager, next, jumper","page-sizes":z(I).sizeOption,total:z(I).total,onSizeChange:z(I).onSizeChange,onCurrentChange:z(I).onPageChange},null,8,["current-page","page-size","page-sizes","total","onSizeChange","onCurrentChange"])])),_:1},8,["locale"])])])),_:1})],64)}}}),[["__scopeId","data-v-adb75245"]]);export{O as default};
