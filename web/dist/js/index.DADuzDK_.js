import"./el-input.DbwAcvyl.js";import{u as e,z as a,E as t,a as r,b as o,c as s,v as i}from"./zh-cn.D__ZzpjP.js";import"./el-tag.Ddt9mnZw.js";import"./el-select.RsKGHFHP.js";import"./el-popper.DO2DqAkm.js";import"./el-tooltip.l0sNRNKZ.js";import{E as n}from"./el-card.BatDINaT.js";import{a as l,e as p,p as d}from"./index.xHIKB6D5.js";import{E as m}from"./index.DLxQFyR-.js";import"./el-overlay.CO8zOjxP.js";import{E as c}from"./index.CGHORWa1.js";import{E as g}from"./index.DYeR_yRe.js";import{d as u,j as h,r as f,e as j,D as w,m as b,v,F as x,o as _,A as y,E as C,u as z,x as k,_ as E}from"./index.CWaAX4xr.js";import"./index.DjAzOcH0.js";import"./index.BCafUqtM.js";import"./use-form-item.BVm2y5eZ.js";import"./_Uint8Array.BilG7pSd.js";import"./_initCloneObject.ByLqx6c6.js";import"./scroll.CZcvdlp5.js";import"./castArray.BKnkx244.js";import"./focus-trap.D7-xhyEd.js";import"./index.BXhqqwsx.js";import"./vnode.Dqp4nsAX.js";import"./aria.C-hsWcn7.js";const $={class:"am-image-title"},A={class:"am-image-operator"},B={class:"am-table"},D={class:"am-pagination"},I=E(u({__name:"index",setup(u){h((()=>{O()}));const E=f(0),{data:I,refresh:O,loading:S,pagination:T}=e(l,{},{}),F=()=>{d().then((()=>{m({type:"success",message:"清理完成"})}))};return(e,l)=>{const d=g,u=n,h=t,f=r,P=o,U=s,q=i;return _(),j(x,null,[w("div",$,[w("span",{onClick:l[0]||(l[0]=a=>e.$router.push("/docker/container"))},"容器"),w("span",{onClick:l[1]||(l[1]=a=>e.$router.push("/docker/image"))},"镜像"),w("span",{onClick:l[2]||(l[2]=a=>e.$router.push("/docker/network"))},"网络"),w("span",{onClick:l[3]||(l[3]=a=>e.$router.push("/docker/settings"))},"设置")]),w("div",A,[b(u,{shadow:"never"},{default:v((()=>[b(d,{type:"primary"},{default:v((()=>[y("拉取镜像")])),_:1}),b(d,{type:"primary"},{default:v((()=>[y("导入镜像")])),_:1}),b(d,{type:"warning",onClick:F},{default:v((()=>[y("清理虚悬镜像")])),_:1})])),_:1})]),b(u,{shadow:"never"},{default:v((()=>[w("div",B,[C((_(),k(f,{data:z(I),key:z(E),"highlight-current-row":"",height:"100%",stripe:""},{default:v((()=>[b(h,{prop:"id",label:"镜像 ID",align:"center",width:"120",fixed:"",sortable:""}),b(h,{prop:"name",label:"镜像名称",align:"center","min-width":"150","show-overflow-tooltip":"",fixed:"",sortable:""}),b(h,{prop:"number",label:"容器数量",align:"center","show-overflow-tooltip":"",width:"120",sortable:""}),b(h,{prop:"tag",label:"镜像 Tag",align:"center","show-overflow-tooltip":"",width:"120"}),b(h,{prop:"created",label:"创建时间",align:"center",width:"200",sortable:""}),b(h,{prop:"size",label:"镜像大小",align:"center",width:"120",sortable:""}),b(h,{label:"操作",width:"160",fixed:"right",align:"center"},{default:v((e=>[b(d,{type:"danger",plain:"",size:"small"},{default:v((()=>[y(" 导出 ")])),_:1}),b(d,{type:"danger",plain:"",size:"small",onClick:a=>{return t=e.row.id,void c.confirm("该操作会删除该镜像. 继续吗?","警告",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{p({image_id:t}).then((()=>{m({type:"success",message:"删除完成"})})).finally((()=>{O(),E.value+=1}))})).catch((()=>{m({type:"info",message:"删除取消"})}));var t}},{default:v((()=>[y(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[q,z(S)]])]),w("div",D,[b(U,{locale:z(a)},{default:v((()=>[b(P,{"current-page":z(T).page,"onUpdate:currentPage":l[4]||(l[4]=e=>z(T).page=e),"page-size":z(T).size,layout:"total, sizes, prev, pager, next, jumper","page-sizes":z(T).sizeOption,total:z(T).total,onSizeChange:z(T).onSizeChange,onCurrentChange:z(T).onPageChange},null,8,["current-page","page-size","page-sizes","total","onSizeChange","onCurrentChange"])])),_:1},8,["locale"])])])),_:1})],64)}}}),[["__scopeId","data-v-45e2b2bb"]]);export{I as default};
