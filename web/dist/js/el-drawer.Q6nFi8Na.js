import{d as e,H as a,c as s,r as t,a as o,b as l,m as r,w as d,e as i,u as n,f,E as c,l as u,n as p,k as v,j as b,t as m,i as y,v as h,T as k,ac as A}from"./index.DuNUv9gK.js";import{b as w,Y as C,n as E,H as F,o as L,E as R,O as g,_,p as $}from"./message.CS_TSLeJ.js";import{c as x,e as S,f as T,E as j}from"./use-dialog.CZCXc5Xp.js";import{E as z}from"./focus-trap.D1Nefh4a.js";const B=w({...x,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),H=S,I=["aria-label","aria-labelledby","aria-describedby"],P=["id","aria-level"],q=["aria-label"],D=["id"],O=e({name:"ElDrawer",inheritAttrs:!1});const N=$(_(e({...O,props:B,emits:H,setup(e,{expose:w}){const _=e,$=a();C({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},s((()=>!!$.title)));const x=t(),S=t(),B=E("drawer"),{t:H}=F(),{afterEnter:O,afterLeave:N,beforeLeave:M,visible:U,rendered:Y,titleId:G,bodyId:J,zIndex:K,onModalClick:Q,onOpenAutoFocus:V,onCloseAutoFocus:W,onFocusoutPrevented:X,onCloseRequested:Z,handleClose:ee}=T(_,x),ae=s((()=>"rtl"===_.direction||"ltr"===_.direction)),se=s((()=>L(_.size)));return w({handleClose:ee,afterEnter:O,afterLeave:N}),(e,a)=>(o(),l(A,{to:"body",disabled:!e.appendToBody},[r(k,{name:n(B).b("fade"),onAfterEnter:n(O),onAfterLeave:n(N),onBeforeLeave:n(M),persisted:""},{default:d((()=>[i(r(n(j),{mask:e.modal,"overlay-class":e.modalClass,"z-index":n(K),onClick:n(Q)},{default:d((()=>[r(n(z),{loop:"",trapped:n(U),"focus-trap-el":x.value,"focus-start-el":S.value,onFocusAfterTrapped:n(V),onFocusAfterReleased:n(W),onFocusoutPrevented:n(X),onReleaseRequested:n(Z)},{default:d((()=>[f("div",c({ref_key:"drawerRef",ref:x,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:n(G),"aria-describedby":n(J)},e.$attrs,{class:[n(B).b(),e.direction,n(U)&&"open"],style:n(ae)?"width: "+n(se):"height: "+n(se),role:"dialog",onClick:a[1]||(a[1]=u((()=>{}),["stop"]))}),[f("span",{ref_key:"focusStartRef",ref:S,class:p(n(B).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(o(),v("header",{key:0,class:p(n(B).e("header"))},[e.$slots.title?b(e.$slots,"title",{key:1},(()=>[y(" DEPRECATED SLOT ")])):b(e.$slots,"header",{key:0,close:n(ee),titleId:n(G),titleClass:n(B).e("title")},(()=>[e.$slots.title?y("v-if",!0):(o(),v("span",{key:0,id:n(G),role:"heading","aria-level":e.headerAriaLevel,class:p(n(B).e("title"))},m(e.title),11,P))])),e.showClose?(o(),v("button",{key:2,"aria-label":n(H)("el.drawer.close"),class:p(n(B).e("close-btn")),type:"button",onClick:a[0]||(a[0]=(...e)=>n(ee)&&n(ee)(...e))},[r(n(R),{class:p(n(B).e("close"))},{default:d((()=>[r(n(g))])),_:1},8,["class"])],10,q)):y("v-if",!0)],2)):y("v-if",!0),n(Y)?(o(),v("div",{key:1,id:n(J),class:p(n(B).e("body"))},[b(e.$slots,"default")],10,D)):y("v-if",!0),e.$slots.footer?(o(),v("div",{key:2,class:p(n(B).e("footer"))},[b(e.$slots,"footer")],2)):y("v-if",!0)],16,I)])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])])),_:3},8,["mask","overlay-class","z-index","onClick"]),[[h,n(U)]])])),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","drawer.vue"]]));export{N as E};
