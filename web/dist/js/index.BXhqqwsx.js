import{h as o,v as e,G as t,X as s,D as n,F as a,d as u,e as d}from"./el-input.DbwAcvyl.js";import{t as l}from"./index.BCafUqtM.js";import{g as r}from"./scroll.CZcvdlp5.js";import{a1 as c,c as i,w as m,ac as p,ad as y,d as v,m as f,f as b,R as x}from"./index.CWaAX4xr.js";import{P as M}from"./vnode.Dqp4nsAX.js";const k=(u,d={})=>{c(u)||l("[useLockscreen]","You need to pass a ref param to this function");const y=d.ns||o("popup"),v=i((()=>y.bm("parent","hidden")));if(!e||t(document.body,v.value))return;let f=0,b=!1,x="0";const M=()=>{setTimeout((()=>{a(null==document?void 0:document.body,v.value),b&&document&&(document.body.style.width=x)}),200)};m(u,(o=>{if(!o)return void M();b=!t(document.body,v.value),b&&(x=document.body.style.width),f=r(y.namespace.value);const e=document.documentElement.clientHeight<document.body.scrollHeight,a=s(document.body,"overflowY");f>0&&(e||"scroll"===a)&&b&&(document.body.style.width=`calc(100% - ${f}px)`),n(document.body,v.value)})),p((()=>M()))},g=o=>{if(!o)return{onClick:y,onMousedown:y,onMouseup:y};let e=!1,t=!1;return{onClick:s=>{e&&t&&o(s),e=t=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},w=u({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:d([String,Array,Object])},zIndex:{type:d([String,Number])}});const h=v({name:"ElOverlay",props:w,emits:{click:o=>o instanceof MouseEvent},setup(e,{slots:t,emit:s}){const n=o("overlay"),{onClick:a,onMousedown:u,onMouseup:d}=g(e.customMaskEvent?void 0:o=>{s("click",o)});return()=>e.mask?f("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:u,onMouseup:d},[b(t,"default")],M.STYLE|M.CLASS|M.PROPS,["onClick","onMouseup","onMousedown"]):x("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[b(t,"default")])}});export{h as E,k as a,g as u};
