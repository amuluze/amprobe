import{b as e,d as t,j as a,h as i,_ as l,m as s,x as r}from"./el-button.Bh3a0xQF.js";/* empty css               */import{_ as n}from"./index.DkoIEau-.js";import{E as o}from"./el-card.Dwv9l0RQ.js";import{E as u,a as d}from"./el-col.DgNWl4dd.js";import{q as p,a as v,b as f}from"./index.ChZW9-JR.js";import{q as c,a as h,b as m,c as _}from"./index.D_qvDorK.js";import{d as g,c as w,V as x,a as y,k as S,n as b,u as k,j,A as C,t as A,i as L,f as z,g as E,o as $,r as M,x as R,m as N,w as T,R as W,S as q,_ as D}from"./index.Dr9aOSLV.js";import{E as F}from"./index.D9jSBXYG.js";import"./message.DctIvaHE.js";import"./index.nuX2YVwj.js";const I=e({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:t([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:t([String,Object,Array])}}),O=g({name:"ElStatistic"});const P=s(l(g({...O,props:I,setup(e,{expose:t}){const l=e,s=a("statistic"),r=w((()=>{const{value:e,formatter:t,precision:a,decimalSeparator:s,groupSeparator:r}=l;if(x(t))return t(e);if(!i(e))return e;let[n,o=""]=String(e).split(".");return o=o.padEnd(a,"0").slice(0,a>0?a:0),n=n.replace(/\B(?=(\d{3})+(?!\d))/g,r),[n,o].join(o?s:"")}));return t({displayValue:r}),(e,t)=>(y(),S("div",{class:b(k(s).b())},[e.$slots.title||e.title?(y(),S("div",{key:0,class:b(k(s).e("head"))},[j(e.$slots,"title",{},(()=>[C(A(e.title),1)]))],2)):L("v-if",!0),z("div",{class:b(k(s).e("content"))},[e.$slots.prefix||e.prefix?(y(),S("div",{key:0,class:b(k(s).e("prefix"))},[j(e.$slots,"prefix",{},(()=>[z("span",null,A(e.prefix),1)]))],2)):L("v-if",!0),z("span",{class:b(k(s).e("number")),style:E(e.valueStyle)},A(k(r)),7),e.$slots.suffix||e.suffix?(y(),S("div",{key:1,class:b(k(s).e("suffix"))},[j(e.$slots,"suffix",{},(()=>[z("span",null,A(e.suffix),1)]))],2)):L("v-if",!0)],2)],2))}}),[["__file","statistic.vue"]])),V={series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{color:"#FAC858"}},axisLine:{lineStyle:{width:8}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]},B={series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{color:"#92CC76"}},axisLine:{lineStyle:{width:8}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]},J={series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{color:"#5470C6"}},axisLine:{lineStyle:{width:8}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]},K=e=>(W("data-v-5d9c06e2"),e=e(),q(),e),U={class:"am-overview-container"},G=K((()=>z("div",{class:"am-overview-container__title"},[z("span",null,"总览")],-1))),H=K((()=>z("h4",null,"概览",-1))),Q=K((()=>z("h4",null,"状态",-1))),X=K((()=>z("h4",null,"主机信息",-1))),Y=K((()=>z("h4",null,"Docker信息",-1))),Z=D(g({__name:"index",setup(e){$((()=>{g(),x(),L(),q(),O(),i(),l()}));const t=M(0),a=M(0),i=async()=>{const{data:e}=await p({page:1,size:10});t.value=e.total},l=async()=>{const{data:e}=await v({page:1,size:10});a.value=e.total},s=M(),g=async()=>{const{data:e}=await c();s.value={hostname:e.hostname,uptime:e.uptime,os:e.os,platform:e.platform,platform_version:e.platform_version,kernel_version:e.kernel_version,kernel_arch:e.kernel_arch}},w=M(),x=async()=>{const{data:e}=await f();w.value={docker_version:e.docker_version,api_version:e.api_version,min_api_version:e.min_api_version,git_commit:e.git_commit,go_version:e.go_version,os:e.os,arch:e.arch}},b=[{value:20,name:"CPU",title:{offsetCenter:["0%","-15%"]},detail:{valueAnimation:!0,offsetCenter:["0%","15%"]}}],j=R(V),L=async()=>{const{data:e}=await h();b[0].value=Math.round(100*e.percent)/100,r(j,"series[0].data",b)},E=[{value:20,name:"内存",title:{offsetCenter:["0%","-15%"]},detail:{valueAnimation:!0,offsetCenter:["0%","15%"]}}],W=R(B),q=async()=>{const{data:e}=await m();E[0].value=Math.round(100*e.percent)/100,r(W,"series[0].data",E)},D=[{value:20,name:"磁盘",title:{offsetCenter:["0%","-15%"]},detail:{valueAnimation:!0,offsetCenter:["0%","15%"]}}],I=R(J),O=async()=>{const{data:e}=await _();let t=0,a=0;e.info.forEach((e=>{t+=e.total,a+=e.used})),D[0].value=Math.round(a/t*1e4)/100,r(I,"series[0].data",D)};return(e,i)=>{const l=P,r=d,p=u,v=o,f=n,c=F;return y(),S("div",U,[G,N(p,{gutter:8},{default:T((()=>[N(r,{span:16},{default:T((()=>[N(v,{class:"am-overview-overview",shadow:"never"},{default:T((()=>[H,N(p,{gutter:4},{default:T((()=>[N(r,{span:12},{default:T((()=>[N(l,{title:"容器数量",value:k(t)},null,8,["value"])])),_:1}),N(r,{span:12},{default:T((()=>[N(l,{title:"镜像数量",value:k(a)},null,8,["value"])])),_:1})])),_:1})])),_:1}),N(v,{class:"am-overview-status",shadow:"never"},{default:T((()=>[Q,N(p,{gutter:4},{default:T((()=>[N(r,{span:8},{default:T((()=>[N(f,{option:k(j),height:"200px"},null,8,["option"])])),_:1}),N(r,{span:8},{default:T((()=>[N(f,{option:k(W),height:"200px"},null,8,["option"])])),_:1}),N(r,{span:8},{default:T((()=>[N(f,{option:k(I),height:"200px"},null,8,["option"])])),_:1})])),_:1})])),_:1})])),_:1}),N(r,{span:8},{default:T((()=>[N(v,{class:"am-overview-host",shadow:"never"},{default:T((()=>[X,z("p",null,[C(" 主机名称："),N(c,null,{default:T((()=>{var e;return[C(A(null==(e=k(s))?void 0:e.hostname),1)]})),_:1})]),z("p",null,[C(" 启动时间："),N(c,null,{default:T((()=>{var e;return[C(A(null==(e=k(s))?void 0:e.uptime),1)]})),_:1})]),z("p",null,[C(" 发行版本："),N(c,null,{default:T((()=>{var e,t;return[C(A(null==(e=k(s))?void 0:e.platform)+"-"+A(null==(t=k(s))?void 0:t.platform_version),1)]})),_:1})]),z("p",null,[C(" 内核版本："),N(c,null,{default:T((()=>{var e;return[C(A(null==(e=k(s))?void 0:e.kernel_version),1)]})),_:1})]),z("p",null,[C(" 系统类型："),N(c,null,{default:T((()=>{var e,t;return[C(A(null==(e=k(s))?void 0:e.os)+"/"+A(null==(t=k(s))?void 0:t.kernel_arch),1)]})),_:1})]),Y,z("p",null,[C(" Docker 版本："),N(c,null,{default:T((()=>{var e;return[C(A(null==(e=k(w))?void 0:e.docker_version),1)]})),_:1})]),z("p",null,[C(" API 版本： "),N(c,null,{default:T((()=>{var e,t;return[C(A(null==(e=k(w))?void 0:e.min_api_version)+"-"+A(null==(t=k(w))?void 0:t.api_version),1)]})),_:1})]),z("p",null,[C(" 系统类型： "),N(c,null,{default:T((()=>{var e,t;return[C(A(null==(e=k(w))?void 0:e.os)+"/"+A(null==(t=k(w))?void 0:t.arch),1)]})),_:1})])])),_:1})])),_:1})])),_:1})])}}}),[["__scopeId","data-v-5d9c06e2"]]);export{Z as default};
