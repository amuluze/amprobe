import{b as e,i as s,d as t,u as o,T as n,E as a,_ as l,C as r,a as i,c as u,e as p,w as c,f as d,l as m}from"./el-button.Bf-OVv06.js";import{E as f,a as g}from"./el-form-item.M-ghQCfn.js";import{u as v,E as y,a as h}from"./message.ohA7tZs1.js";/* empty css               */import{d as b,r as x,c as _,o as C,a as w,b as j,w as k,e as E,f as T,n as I,u as z,g as A,h as S,i as q,t as H,j as L,k as U,F as B,v as M,l as V,m as D,T as N,p as O,q as $,s as F,x as P,y as W,z as Z,A as G}from"./index.Dtsxs5-j.js";import{_ as J}from"./amprobe.BVrJrCGO.js";import{l as K}from"./index.BgXjjDwT.js";import{E as Q}from"./index.BslPTDkf.js";import{E as R}from"./index.eDhpYl8G.js";import{E as X}from"./index.7fU9QC-V.js";import"./castArray.B6kcHc-f.js";import"./index.DhER-06O.js";import"./use-form-item.vgwZ2Rnc.js";import"./_baseClone.Cjz58nAh.js";import"./_Uint8Array.DZ6GMUyG.js";import"./_initCloneObject.L1lxMjk_.js";import"./index.Ct-vKfEQ.js";import"./event.BwRzfsZt.js";const Y=["success","info","warning","error"],ee=e({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:s},id:{type:String,default:""},message:{type:t([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:t(Function),default:()=>{}},onClose:{type:t(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Y,""],default:""},zIndex:Number}),se=["id"],te=["textContent"],oe={key:0},ne=["innerHTML"],ae=b({name:"ElNotification"});var le=l(b({...ae,props:ee,emits:{destroy:()=>!0},setup(e,{expose:s}){const t=e,{ns:l,zIndex:u}=o("notification"),{nextZIndex:p,currentZIndex:c}=u,{Close:d}=r,m=x(!1);let f;const g=_((()=>{const e=t.type;return e&&n[t.type]?l.m(e):""})),h=_((()=>t.type&&n[t.type]||t.icon)),b=_((()=>t.position.endsWith("right")?"right":"left")),O=_((()=>t.position.startsWith("top")?"top":"bottom")),$=_((()=>{var e;return{[O.value]:`${t.offset}px`,zIndex:null!=(e=t.zIndex)?e:c.value}}));function F(){t.duration>0&&({stop:f}=i((()=>{m.value&&W()}),t.duration))}function P(){null==f||f()}function W(){m.value=!1}return C((()=>{F(),p(),m.value=!0})),v(document,"keydown",(function({code:e}){e===y.delete||e===y.backspace?P():e===y.esc?m.value&&W():F()})),s({visible:m,close:W}),(e,s)=>(w(),j(N,{name:z(l).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s[1]||(s[1]=s=>e.$emit("destroy")),persisted:""},{default:k((()=>[E(T("div",{id:e.id,class:I([z(l).b(),e.customClass,z(b)]),style:A(z($)),role:"alert",onMouseenter:P,onMouseleave:F,onClick:s[0]||(s[0]=(...s)=>e.onClick&&e.onClick(...s))},[z(h)?(w(),j(z(a),{key:0,class:I([z(l).e("icon"),z(g)])},{default:k((()=>[(w(),j(S(z(h))))])),_:1},8,["class"])):q("v-if",!0),T("div",{class:I(z(l).e("group"))},[T("h2",{class:I(z(l).e("title")),textContent:H(e.title)},null,10,te),E(T("div",{class:I(z(l).e("content")),style:A(e.title?void 0:{margin:0})},[L(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(w(),U(B,{key:1},[q(" Caution here, message could've been compromised, never use user's input as message "),T("p",{innerHTML:e.message},null,8,ne)],2112)):(w(),U("p",oe,H(e.message),1))]))],6),[[M,e.message]]),e.showClose?(w(),j(z(a),{key:0,class:I(z(l).e("closeBtn")),onClick:V(W,["stop"])},{default:k((()=>[D(z(d))])),_:1},8,["class","onClick"])):q("v-if",!0)],2)],46,se),[[M,m.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","notification.vue"]]);const re={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let ie=1;const ue=function(e={},s=null){if(!u)return{close:()=>{}};("string"==typeof e||O(e))&&(e={message:e});const t=e.position||"top-right";let o=e.offset||0;re[t].forEach((({vm:e})=>{var s;o+=((null==(s=e.el)?void 0:s.offsetHeight)||0)+16})),o+=16;const n="notification_"+ie++,a=e.onClose,l={...e,offset:o,id:n,onClose:()=>{!function(e,s,t){const o=re[s],n=o.findIndex((({vm:s})=>{var t;return(null==(t=s.component)?void 0:t.props.id)===e}));if(-1===n)return;const{vm:a}=o[n];if(!a)return;null==t||t(a);const l=a.el.offsetHeight,r=s.split("-")[0];o.splice(n,1);const i=o.length;if(i<1)return;for(let u=n;u<i;u++){const{el:e,component:s}=o[u].vm,t=Number.parseInt(e.style[r],10)-l-16;s.props.offset=t}}(n,t,a)}};let r=document.body;p(e.appendTo)?r=e.appendTo:$(e.appendTo)&&(r=document.querySelector(e.appendTo)),p(r)||(r=document.body);const i=document.createElement("div"),c=D(le,l,O(l.message)?{default:()=>l.message}:null);return c.appContext=null!=s?s:ue._context,c.props.onDestroy=()=>{F(null,i)},F(c,i),re[t].push({vm:c}),r.appendChild(i.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};Y.forEach((e=>{ue[e]=(s={})=>(("string"==typeof s||O(s))&&(s={message:s}),ue({...s,type:e}))})),ue.closeAll=function(){for(const e of Object.values(re))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))},ue._context=null;const pe=c(ue,"$notify");function ce(){const e=(new Date).getHours();return e>=6&&e<=10?"早上好 ⛅":e>=10&&e<=14?"中午好 🌞":e>=14&&e<=18?"下午好 🌞":e>=18&&e<=24?"晚上好 🌛":e>=0&&e<=6?"凌晨好 🌛":void 0}const de={class:"am-login"},me=T("div",{class:"am-login-left"},[T("div",{class:"am-login-left__title"},[T("img",{class:"am-login-left__img",src:J,alt:""}),T("h1",null,"Amprobe")]),T("h3",null,"Amprobe 是一款轻量级主机及 Docker 容器监控工具，它可以轻松的帮助我们完成以下几方面的工作:"),T("div",{class:"am-login-left__item"},[T("span",null,"· 监控主机的 CPU、内存、磁盘 IO、网络 IO情况"),T("span",null,"· 监控部署于主机上 Docker 容器的运行状态、CPU、内存使用情况"),T("span",null,"· 实时查看 Docker 容器的日志，并支持日志下载")])],-1),fe={class:"am-login-right"},ge={class:"am-login-right__form"},ve={class:"title"},ye=T("span",{class:"login"},"登录",-1),he=T("span",{class:"version"},"v1.3.9",-1),be=b({__name:"index",setup(e){const s=P({username:"amprobe",password:"123456"}),t={username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:function(e,s,t){""===s?t(new Error("password is required")):s.length<6?t(new Error("The password can not be less than 6 digits")):t()}}]};const o=W(),n=Z(),a=async()=>{try{const{data:e}=await K({...s});o.user.setToken(e.access_token,e.refresh_token),await n.replace("/"),pe({title:"欢迎来到 Amprobe",message:ce(),type:"success"})}catch(e){e instanceof Error&&h.error(e.message)}};return(e,o)=>{const n=Q,l=R,r=g,i=X,u=f;return w(),U("div",de,[me,T("div",fe,[T("div",ge,[D(u,{model:z(s),rules:t},{default:k((()=>[T("div",ve,[ye,D(n,null,{default:k((()=>[he])),_:1})]),D(r,{prop:"username"},{default:k((()=>[D(l,{ref:"username",modelValue:z(s).username,"onUpdate:modelValue":o[0]||(o[0]=e=>z(s).username=e),size:"large",class:"username-input",placeholder:"请输入用户名",name:"username",autocomplete:"on","prefix-icon":z(d)},null,8,["modelValue","prefix-icon"])])),_:1}),D(r,{prop:"password"},{default:k((()=>[D(l,{modelValue:z(s).password,"onUpdate:modelValue":o[1]||(o[1]=e=>z(s).password=e),size:"large",type:"password",class:"password-input",placeholder:"请输入密码",name:"password","prefix-icon":z(m),"show-password":!0},null,8,["modelValue","prefix-icon"])])),_:1}),D(i,{class:"btn",size:"large",type:"primary",onClick:V(a,["prevent"])},{default:k((()=>[G(" 登录 ")])),_:1})])),_:1},8,["model"])])])])}}});export{be as default};
