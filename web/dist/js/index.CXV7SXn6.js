import"./el-input.Jahd1Hjo.js";import{v as e}from"./el-loading.BpbtoYT8.js";import{E as a}from"./el-drawer.BtAgXUfU.js";import{s as l}from"./index.BEJnBAIn.js";import{a as t,E as o}from"./el-form-item.CmR8yyCj.js";/* empty css               */import{E as r,a as s}from"./el-select.Ds80L7A8.js";import"./el-popper.ByQXy_St.js";import{u as i,z as n,E as p,a as d}from"./zh-cn.CmAru0Nm.js";import{E as u,a as m}from"./el-table-column.DtRtph-D.js";import"./el-tooltip.l0sNRNKZ.js";import{E as c}from"./el-card.C6FIB03H.js";import{c as f,i as g,j as v}from"./index.Dl9EuN7S.js";import{E as h}from"./index.B8LY5wXu.js";import{E as w}from"./index.CDVZeGTi.js";import{d as j,o as _,r as b,k,f as C,m as y,w as z,u as V,Y as x,F as E,a as U,A as S,e as A,b as $,S as O,_ as q}from"./index.vLuz2ctl.js";import"./use-dialog.B4w-7Ecf.js";import"./vnode.BuYHpAJn.js";import"./use-form-item.DGQHv2C0.js";import"./scroll.CNU-wLPw.js";import"./focus-trap.BSN58JPK.js";import"./castArray.DmlTlyrk.js";import"./_baseClone.Byh6-Sp3.js";import"./_Uint8Array.DGEuPrOq.js";import"./_initCloneObject.D7LM1uMc.js";import"./index.gz-8guSF.js";import"./isEqual.DYDatXy1.js";const F={class:"am-network-title"},I={class:"am-network-operator"},P={class:"am-table"},J={class:"am-pagination"},K={class:"am-network-create"},M={class:"am-network-create__content"},N={class:"am-network-create__operator"},Q=q(j({__name:"index",setup(j){_((()=>{Y()}));const q=b(0),{data:Q,refresh:Y,loading:B,pagination:D}=i(f,{},{}),G=b(!1),H=b(""),L=b("bridge"),R=b(""),T=b(""),W=[{value:"bridge",label:"bridge"},{value:"host",label:"host"}],X=b(!1),Z=async()=>{X.value=!0;const e=new Map;T.value.split("\n").forEach((a=>{const[l,t]=a.split("=");e.set(l,t)}));let a={name:H.value,driver:L.value,network_segment:R.value,labels:e};const{data:t}=await g(a);X.value=!1,G.value=!1,l("创建成功"),Y()};return(i,f)=>{const g=h,j=c,_=u,b=m,ee=p,ae=d,le=w,te=t,oe=s,re=r,se=o,ie=a,ne=e;return U(),k(E,null,[C("div",F,[C("span",{onClick:f[0]||(f[0]=e=>i.$router.push("/docker/container"))},"容器"),C("span",{onClick:f[1]||(f[1]=e=>i.$router.push("/docker/image"))},"镜像"),C("span",{onClick:f[2]||(f[2]=e=>i.$router.push("/docker/network"))},"网络"),C("span",{onClick:f[3]||(f[3]=e=>i.$router.push("/docker/settings"))},"设置")]),C("div",I,[y(j,{shadow:"never"},{default:z((()=>[y(g,{type:"primary",plain:"",onClick:f[4]||(f[4]=e=>G.value=!0)},{default:z((()=>[S("创建网络")])),_:1})])),_:1})]),y(j,{shadow:"never"},{default:z((()=>[C("div",P,[A((U(),$(b,{data:V(Q),key:V(q),"highlight-current-row":"",height:"100%",stripe:""},{default:z((()=>[y(_,{prop:"id",label:"名称",align:"center",width:"120",fixed:""}),y(_,{prop:"name",label:"模式",align:"center","min-width":"120"}),y(_,{prop:"subnet",label:"子网",align:"center","show-overflow-tooltip":"",width:"120"}),y(_,{prop:"gateway",label:"网关",align:"center","show-overflow-tooltip":"",width:"120"}),y(_,{prop:"created",label:"创建时间",align:"center",width:"200"}),y(_,{label:"操作",width:"160",fixed:"right",align:"center"},{default:z((e=>[y(g,{type:"danger",plain:"",size:"small",onClick:a=>(async e=>{let a={network_id:e};const{data:t}=await v(a);l("删除成功"),Y()})(e.row.id)},{default:z((()=>[S(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[ne,V(B)]])]),C("div",J,[y(ae,{locale:V(n)},{default:z((()=>[y(ee,{"current-page":V(D).page,"onUpdate:currentPage":f[5]||(f[5]=e=>V(D).page=e),"page-size":V(D).size,layout:"total, sizes, prev, pager, next, jumper","page-sizes":V(D).sizeOption,total:V(D).total,onSizeChange:V(D).onSizeChange,onCurrentChange:V(D).onPageChange},null,8,["current-page","page-size","page-sizes","total","onSizeChange","onCurrentChange"])])),_:1},8,["locale"])])])),_:1}),C("div",K,[y(ie,{modelValue:V(G),"onUpdate:modelValue":f[11]||(f[11]=e=>x(G)?G.value=e:null),size:"540",title:"创建网络"},{default:z((()=>[C("div",M,[y(se,{"label-width":"100px","label-position":"left"},{default:z((()=>[y(te,{label:"名称"},{default:z((()=>[y(le,{modelValue:V(H),"onUpdate:modelValue":f[6]||(f[6]=e=>x(H)?H.value=e:null),placeholder:"请输入名称"},null,8,["modelValue"])])),_:1}),y(te,{label:"模式"},{default:z((()=>[y(re,{modelValue:V(L),"onUpdate:modelValue":f[7]||(f[7]=e=>x(L)?L.value=e:null),style:{width:"240px"},placeholder:"请选择模式"},{default:z((()=>[(U(),k(E,null,O(W,(e=>y(oe,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),y(te,{label:"子网"},{default:z((()=>[y(le,{modelValue:V(R),"onUpdate:modelValue":f[8]||(f[8]=e=>x(R)?R.value=e:null),placeholder:"172.16.10.0/24"},null,8,["modelValue"])])),_:1}),y(te,{label:"标签"},{default:z((()=>[y(le,{modelValue:V(T),"onUpdate:modelValue":f[9]||(f[9]=e=>x(T)?T.value=e:null),type:"textarea",rows:4,placeholder:"一行一个，例如:\nkey1=value1\nkey2=value2"},null,8,["modelValue"])])),_:1})])),_:1})]),C("div",N,[y(g,{type:"default",size:"default",plain:"",onClick:f[10]||(f[10]=e=>G.value=!1)},{default:z((()=>[S("取消")])),_:1}),A((U(),$(g,{type:"primary",size:"default",plain:"",onClick:Z},{default:z((()=>[S(" 确定 ")])),_:1})),[[ne,V(X)]])])])),_:1},8,["modelValue"])])],64)}}}),[["__scopeId","data-v-ba23c891"]]);export{Q as default};
