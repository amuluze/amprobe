import{d as e,H as a,c as t,r as s,a as l,b as o,m as r,w as d,e as i,u as n,f,E as c,l as u,n as p,k as v,j as b,t as m,i as y,v as h,T as k,ac as A}from"./index.vLuz2ctl.js";import{b as w,S as C,k as E,B as F,m as L,E as R,J as _,_ as g,n as $}from"./el-input.Jahd1Hjo.js";import{c as x,e as S,f as B,E as T}from"./use-dialog.B4w-7Ecf.js";import{E as j}from"./focus-trap.BSN58JPK.js";const z=w({...x,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),I=S,P=["aria-label","aria-labelledby","aria-describedby"],q=["id","aria-level"],D=["aria-label"],H=["id"],O=e({name:"ElDrawer",inheritAttrs:!1});const J=$(g(e({...O,props:z,emits:I,setup(e,{expose:w}){const g=e,$=a();C({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},t((()=>!!$.title)));const x=s(),S=s(),z=E("drawer"),{t:I}=F(),{afterEnter:O,afterLeave:J,beforeLeave:M,visible:N,rendered:U,titleId:G,bodyId:K,zIndex:Q,onModalClick:V,onOpenAutoFocus:W,onCloseAutoFocus:X,onFocusoutPrevented:Y,onCloseRequested:Z,handleClose:ee}=B(g,x),ae=t((()=>"rtl"===g.direction||"ltr"===g.direction)),te=t((()=>L(g.size)));return w({handleClose:ee,afterEnter:O,afterLeave:J}),(e,a)=>(l(),o(A,{to:"body",disabled:!e.appendToBody},[r(k,{name:n(z).b("fade"),onAfterEnter:n(O),onAfterLeave:n(J),onBeforeLeave:n(M),persisted:""},{default:d((()=>[i(r(n(T),{mask:e.modal,"overlay-class":e.modalClass,"z-index":n(Q),onClick:n(V)},{default:d((()=>[r(n(j),{loop:"",trapped:n(N),"focus-trap-el":x.value,"focus-start-el":S.value,onFocusAfterTrapped:n(W),onFocusAfterReleased:n(X),onFocusoutPrevented:n(Y),onReleaseRequested:n(Z)},{default:d((()=>[f("div",c({ref_key:"drawerRef",ref:x,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:n(G),"aria-describedby":n(K)},e.$attrs,{class:[n(z).b(),e.direction,n(N)&&"open"],style:n(ae)?"width: "+n(te):"height: "+n(te),role:"dialog",onClick:a[1]||(a[1]=u((()=>{}),["stop"]))}),[f("span",{ref_key:"focusStartRef",ref:S,class:p(n(z).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(l(),v("header",{key:0,class:p(n(z).e("header"))},[e.$slots.title?b(e.$slots,"title",{key:1},(()=>[y(" DEPRECATED SLOT ")])):b(e.$slots,"header",{key:0,close:n(ee),titleId:n(G),titleClass:n(z).e("title")},(()=>[e.$slots.title?y("v-if",!0):(l(),v("span",{key:0,id:n(G),role:"heading","aria-level":e.headerAriaLevel,class:p(n(z).e("title"))},m(e.title),11,q))])),e.showClose?(l(),v("button",{key:2,"aria-label":n(I)("el.drawer.close"),class:p(n(z).e("close-btn")),type:"button",onClick:a[0]||(a[0]=(...e)=>n(ee)&&n(ee)(...e))},[r(n(R),{class:p(n(z).e("close"))},{default:d((()=>[r(n(_))])),_:1},8,["class"])],10,D)):y("v-if",!0)],2)):y("v-if",!0),n(U)?(l(),v("div",{key:1,id:n(K),class:p(n(z).e("body"))},[b(e.$slots,"default")],10,H)):y("v-if",!0),e.$slots.footer?(l(),v("div",{key:2,class:p(n(z).e("footer"))},[b(e.$slots,"footer")],2)):y("v-if",!0)],16,P)])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])])),_:3},8,["mask","overlay-class","z-index","onClick"]),[[h,n(N)]])])),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","drawer.vue"]]));export{J as E};
