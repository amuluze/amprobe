import{b as e,i as s,d as t,u as o,T as n,a,E as l,_ as r,C as i,c as u,e as p,f as c,w as d,g as m,l as f}from"./el-input.Jahd1Hjo.js";import{E as g,a as v}from"./el-form-item.CmR8yyCj.js";import{d as y,r as h,c as b,o as _,a as x,b as C,w,e as k,f as j,n as E,u as T,g as I,h as S,i as z,t as A,j as H,k as L,F as U,v as q,l as B,m as M,T as V,p as D,q as N,s as O,x as $,y as F,z as P,A as W,B as Z,C as G,_ as J}from"./index.vLuz2ctl.js";import{_ as K,l as Q}from"./index.BrZYD0e1.js";import{E as R,a as X}from"./index.BEJnBAIn.js";import{E as Y}from"./index.CDVZeGTi.js";import{E as ee}from"./index.B8LY5wXu.js";import"./castArray.DmlTlyrk.js";import"./use-form-item.DGQHv2C0.js";import"./_baseClone.Byh6-Sp3.js";import"./_Uint8Array.DGEuPrOq.js";import"./_initCloneObject.D7LM1uMc.js";const se=["success","info","warning","error"],te=e({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:s},id:{type:String,default:""},message:{type:t([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:t(Function),default:()=>{}},onClose:{type:t(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...se,""],default:""},zIndex:Number}),oe=["id"],ne=["textContent"],ae={key:0},le=["innerHTML"],re=y({name:"ElNotification"});var ie=r(y({...re,props:te,emits:{destroy:()=>!0},setup(e,{expose:s}){const t=e,{ns:r,zIndex:p}=o("notification"),{nextZIndex:c,currentZIndex:d}=p,{Close:m}=i,f=h(!1);let g;const v=b((()=>{const e=t.type;return e&&n[t.type]?r.m(e):""})),y=b((()=>t.type&&n[t.type]||t.icon)),D=b((()=>t.position.endsWith("right")?"right":"left")),N=b((()=>t.position.startsWith("top")?"top":"bottom")),O=b((()=>{var e;return{[N.value]:`${t.offset}px`,zIndex:null!=(e=t.zIndex)?e:d.value}}));function $(){t.duration>0&&({stop:g}=u((()=>{f.value&&P()}),t.duration))}function F(){null==g||g()}function P(){f.value=!1}return _((()=>{$(),c(),f.value=!0})),a(document,"keydown",(function({code:e}){e===R.delete||e===R.backspace?F():e===R.esc?f.value&&P():$()})),s({visible:f,close:P}),(e,s)=>(x(),C(V,{name:T(r).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s[1]||(s[1]=s=>e.$emit("destroy")),persisted:""},{default:w((()=>[k(j("div",{id:e.id,class:E([T(r).b(),e.customClass,T(D)]),style:I(T(O)),role:"alert",onMouseenter:F,onMouseleave:$,onClick:s[0]||(s[0]=(...s)=>e.onClick&&e.onClick(...s))},[T(y)?(x(),C(T(l),{key:0,class:E([T(r).e("icon"),T(v)])},{default:w((()=>[(x(),C(S(T(y))))])),_:1},8,["class"])):z("v-if",!0),j("div",{class:E(T(r).e("group"))},[j("h2",{class:E(T(r).e("title")),textContent:A(e.title)},null,10,ne),k(j("div",{class:E(T(r).e("content")),style:I(e.title?void 0:{margin:0})},[H(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(x(),L(U,{key:1},[z(" Caution here, message could've been compromised, never use user's input as message "),j("p",{innerHTML:e.message},null,8,le)],2112)):(x(),L("p",ae,A(e.message),1))]))],6),[[q,e.message]]),e.showClose?(x(),C(T(l),{key:0,class:E(T(r).e("closeBtn")),onClick:B(P,["stop"])},{default:w((()=>[M(T(m))])),_:1},8,["class","onClick"])):z("v-if",!0)],2)],46,oe),[[q,f.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","notification.vue"]]);const ue={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let pe=1;const ce=function(e={},s=null){if(!p)return{close:()=>{}};("string"==typeof e||D(e))&&(e={message:e});const t=e.position||"top-right";let o=e.offset||0;ue[t].forEach((({vm:e})=>{var s;o+=((null==(s=e.el)?void 0:s.offsetHeight)||0)+16})),o+=16;const n="notification_"+pe++,a=e.onClose,l={...e,offset:o,id:n,onClose:()=>{!function(e,s,t){const o=ue[s],n=o.findIndex((({vm:s})=>{var t;return(null==(t=s.component)?void 0:t.props.id)===e}));if(-1===n)return;const{vm:a}=o[n];if(!a)return;null==t||t(a);const l=a.el.offsetHeight,r=s.split("-")[0];o.splice(n,1);const i=o.length;if(i<1)return;for(let u=n;u<i;u++){const{el:e,component:s}=o[u].vm,t=Number.parseInt(e.style[r],10)-l-16;s.props.offset=t}}(n,t,a)}};let r=document.body;c(e.appendTo)?r=e.appendTo:N(e.appendTo)&&(r=document.querySelector(e.appendTo)),c(r)||(r=document.body);const i=document.createElement("div"),u=M(ie,l,D(l.message)?{default:()=>l.message}:null);return u.appContext=null!=s?s:ce._context,u.props.onDestroy=()=>{O(null,i)},O(u,i),ue[t].push({vm:u}),r.appendChild(i.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};se.forEach((e=>{ce[e]=(s={})=>(("string"==typeof s||D(s))&&(s={message:s}),ce({...s,type:e}))})),ce.closeAll=function(){for(const e of Object.values(ue))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))},ce._context=null;const de=d(ce,"$notify");function me(){const e=(new Date).getHours();return e>=6&&e<=10?"早上好 ⛅":e>=10&&e<=14?"中午好 🌞":e>=14&&e<=18?"下午好 🌞":e>=18&&e<=24?"晚上好 🌛":e>=0&&e<=6?"凌晨好 🌛":void 0}const fe=e=>(Z("data-v-58a93363"),e=e(),G(),e),ge={class:"am-login"},ve=fe((()=>j("div",{class:"am-login-left"},[j("div",{class:"am-login-left__title"},[j("img",{class:"am-login-left__img",src:K,alt:""}),j("h1",null,"Amprobe")]),j("h3",null,"Amprobe 是一款轻量级主机及 Docker 容器监控工具，它可以轻松的帮助我们完成以下几方面的工作:"),j("div",{class:"am-login-left__item"},[j("span",null,"· 监控主机的 CPU、内存、磁盘 IO、网络 IO情况"),j("span",null,"· 监控部署于主机上 Docker 容器的运行状态、CPU、内存使用情况"),j("span",null,"· 实时查看 Docker 容器的日志，并支持日志下载")])],-1))),ye={class:"am-login-right"},he={class:"am-login-right__form"},be=fe((()=>j("div",{class:"title"},[j("span",null,"登录")],-1))),_e=J(y({__name:"index",setup(e){const s=$({username:"amprobe",password:"123456"}),t={username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:function(e,s,t){""===s?t(new Error("password is required")):s.length<6?t(new Error("The password can not be less than 6 digits")):t()}}]};const o=F(),n=P(),a=async()=>{try{const{data:e}=await Q({...s});o.user.setToken(e.access_token,e.refresh_token),await n.replace("/"),de({title:"欢迎来到 Amprobe",message:me(),type:"success"})}catch(e){e instanceof Error&&X.error(e.message)}};return(e,o)=>{const n=Y,l=v,r=ee,i=g;return x(),L("div",ge,[ve,j("div",ye,[j("div",he,[M(i,{model:T(s),rules:t},{default:w((()=>[be,M(l,{prop:"username"},{default:w((()=>[M(n,{ref:"username",modelValue:T(s).username,"onUpdate:modelValue":o[0]||(o[0]=e=>T(s).username=e),size:"large",class:"username-input",placeholder:"请输入用户名",name:"username",autocomplete:"on","prefix-icon":T(m)},null,8,["modelValue","prefix-icon"])])),_:1}),M(l,{prop:"password"},{default:w((()=>[M(n,{modelValue:T(s).password,"onUpdate:modelValue":o[1]||(o[1]=e=>T(s).password=e),size:"large",type:"password",class:"password-input",placeholder:"请输入密码",name:"password","prefix-icon":T(f),"show-password":!0},null,8,["modelValue","prefix-icon"])])),_:1}),M(r,{class:"btn",size:"large",type:"primary",onClick:B(a,["prevent"])},{default:w((()=>[W(" 登录 ")])),_:1})])),_:1},8,["model"])])])])}}}),[["__scopeId","data-v-58a93363"]]);export{_e as default};
