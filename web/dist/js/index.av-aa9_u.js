var s=Object.defineProperty,t=(t,l,e)=>((t,l,e)=>l in t?s(t,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[l]=e)(t,"symbol"!=typeof l?l+"":l,e);class l{constructor(s,l=null,e=null,i=null,o=null){t(this,"url"),t(this,"ws"),t(this,"close"),t(this,"send");let n=window.location;s=n.host+"/"+s,this.url=/https/.test(n.protocol)?"wss://"+s:"ws://"+s,this.ws=new WebSocket(this.url),this.close=()=>{this.ws.close()},this.send=s=>{this.ws.send(s)},this.ws.onopen=s=>{null!==l&&l(this,s)},this.ws.onmessage=s=>{null!==e&&e(this,s)},this.ws.onerror=s=>{null!=i&&i(this,s)},this.ws.onclose=s=>{null!==o&&o(this,s)}}}export{l as W};
