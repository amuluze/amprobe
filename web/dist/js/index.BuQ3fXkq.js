import{d as e,e as t,h as a,B as i,_ as l,w as s,M as r}from"./el-input.DbwAcvyl.js";import{E as o}from"./el-tag.Ddt9mnZw.js";import{_ as n}from"./index.MZMLyt-4.js";import{E as u}from"./el-card.BatDINaT.js";import{E as d,a as p}from"./el-col.Du18ODs9.js";import{q as v,a as f,b as c}from"./index.xHIKB6D5.js";import{q as h,a as m,b as _,c as g}from"./index.8evOdXKO.js";import{d as w,c as x,g as y,o as b,e as S,n as C,u as k,f as j,A,B as z,C as L,D as E,z as W,j as $,r as B,b as M,m as D,v as N,N as O,O as R,_ as T}from"./index.CWaAX4xr.js";import"./index.DLxQFyR-.js";import"./el-overlay.CO8zOjxP.js";const q=e({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:t([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:t([String,Object,Array])}}),I=w({name:"ElStatistic"});const P=s(l(w({...I,props:q,setup(e,{expose:t}){const l=e,s=a("statistic"),r=x((()=>{const{value:e,formatter:t,precision:a,decimalSeparator:s,groupSeparator:r}=l;if(y(t))return t(e);if(!i(e))return e;let[o,n=""]=String(e).split(".");return n=n.padEnd(a,"0").slice(0,a>0?a:0),o=o.replace(/\B(?=(\d{3})+(?!\d))/g,r),[o,n].join(n?s:"")}));return t({displayValue:r}),(e,t)=>(b(),S("div",{class:C(k(s).b())},[e.$slots.title||e.title?(b(),S("div",{key:0,class:C(k(s).e("head"))},[j(e.$slots,"title",{},(()=>[A(z(e.title),1)]))],2)):L("v-if",!0),E("div",{class:C(k(s).e("content"))},[e.$slots.prefix||e.prefix?(b(),S("div",{key:0,class:C(k(s).e("prefix"))},[j(e.$slots,"prefix",{},(()=>[E("span",null,z(e.prefix),1)]))],2)):L("v-if",!0),E("span",{class:C(k(s).e("number")),style:W(e.valueStyle)},z(k(r)),7),e.$slots.suffix||e.suffix?(b(),S("div",{key:1,class:C(k(s).e("suffix"))},[j(e.$slots,"suffix",{},(()=>[E("span",null,z(e.suffix),1)]))],2)):L("v-if",!0)],2)],2))}}),[["__file","statistic.vue"]])),F={series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:8}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]},U={series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:8}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]},V={series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:8}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]},G=e=>(O("data-v-27db3977"),e=e(),R(),e),H={class:"am-overview-container"},J=G((()=>E("div",{class:"am-overview-container__title"},[E("span",null,"总览")],-1))),K=G((()=>E("h4",null,"概览",-1))),Q=G((()=>E("h4",null,"状态",-1))),X=G((()=>E("h4",null,"主机信息",-1))),Y=G((()=>E("h4",null,"Docker信息",-1))),Z=T(w({__name:"index",setup(e){$((()=>{w(),y(),L(),R(),I(),i(),l()}));const t=B(0),a=B(0),i=async()=>{const{data:e}=await v({page:1,size:10});t.value=e.total},l=async()=>{const{data:e}=await f({page:1,size:10});a.value=e.total},s=B(),w=async()=>{const{data:e}=await h();s.value={hostname:e.hostname,uptime:e.uptime,os:e.os,platform:e.platform,platform_version:e.platform_version,kernel_version:e.kernel_version,kernel_arch:e.kernel_arch}},x=B(),y=async()=>{const{data:e}=await c();x.value={docker_version:e.docker_version,api_version:e.api_version,min_api_version:e.min_api_version,git_commit:e.git_commit,go_version:e.go_version,os:e.os,arch:e.arch}},C=[{value:20,name:"CPU",title:{offsetCenter:["0%","-15%"]},detail:{valueAnimation:!0,offsetCenter:["0%","15%"]}}],j=M(F),L=async()=>{const{data:e}=await m();C[0].value=Math.round(100*e.percent)/100,r(j,"series[0].data",C)},W=[{value:20,name:"内存",title:{offsetCenter:["0%","-15%"]},detail:{valueAnimation:!0,offsetCenter:["0%","15%"]}}],O=M(U),R=async()=>{const{data:e}=await _();W[0].value=Math.round(100*e.percent)/100,r(O,"series[0].data",W)},T=[{value:20,name:"磁盘",title:{offsetCenter:["0%","-15%"]},detail:{valueAnimation:!0,offsetCenter:["0%","15%"]}}],q=M(V),I=async()=>{const{data:e}=await g();let t=0,a=0;e.info.forEach((e=>{t+=e.total,a+=e.used})),T[0].value=Math.round(a/t*1e4)/100,r(q,"series[0].data",T)};return(e,i)=>{const l=P,r=p,v=d,f=u,c=n,h=o;return b(),S("div",H,[J,D(v,{gutter:8},{default:N((()=>[D(r,{span:16},{default:N((()=>[D(f,{class:"am-overview-overview",shadow:"never"},{default:N((()=>[K,D(v,{gutter:4},{default:N((()=>[D(r,{span:12},{default:N((()=>[D(l,{title:"容器数量",value:k(t)},null,8,["value"])])),_:1}),D(r,{span:12},{default:N((()=>[D(l,{title:"镜像数量",value:k(a)},null,8,["value"])])),_:1})])),_:1})])),_:1}),D(f,{class:"am-overview-status",shadow:"never"},{default:N((()=>[Q,D(v,{gutter:4},{default:N((()=>[D(r,{span:8},{default:N((()=>[D(c,{option:k(j),height:"200px"},null,8,["option"])])),_:1}),D(r,{span:8},{default:N((()=>[D(c,{option:k(O),height:"200px"},null,8,["option"])])),_:1}),D(r,{span:8},{default:N((()=>[D(c,{option:k(q),height:"200px"},null,8,["option"])])),_:1})])),_:1})])),_:1})])),_:1}),D(r,{span:8},{default:N((()=>[D(f,{class:"am-overview-host",shadow:"never"},{default:N((()=>[X,E("p",null,[A(" 主机名称："),D(h,null,{default:N((()=>{var e;return[A(z(null==(e=k(s))?void 0:e.hostname),1)]})),_:1})]),E("p",null,[A(" 启动时间："),D(h,null,{default:N((()=>{var e;return[A(z(null==(e=k(s))?void 0:e.uptime),1)]})),_:1})]),E("p",null,[A(" 发行版本："),D(h,null,{default:N((()=>{var e,t;return[A(z(null==(e=k(s))?void 0:e.platform)+"-"+z(null==(t=k(s))?void 0:t.platform_version),1)]})),_:1})]),E("p",null,[A(" 内核版本："),D(h,null,{default:N((()=>{var e;return[A(z(null==(e=k(s))?void 0:e.kernel_version),1)]})),_:1})]),E("p",null,[A(" 系统类型："),D(h,null,{default:N((()=>{var e,t;return[A(z(null==(e=k(s))?void 0:e.os)+"/"+z(null==(t=k(s))?void 0:t.kernel_arch),1)]})),_:1})]),Y,E("p",null,[A(" Docker 版本："),D(h,null,{default:N((()=>{var e;return[A(z(null==(e=k(x))?void 0:e.docker_version),1)]})),_:1})]),E("p",null,[A(" API 版本： "),D(h,null,{default:N((()=>{var e,t;return[A(z(null==(e=k(x))?void 0:e.min_api_version)+"-"+z(null==(t=k(x))?void 0:t.api_version),1)]})),_:1})]),E("p",null,[A(" 系统类型： "),D(h,null,{default:N((()=>{var e,t;return[A(z(null==(e=k(x))?void 0:e.os)+"/"+z(null==(t=k(x))?void 0:t.arch),1)]})),_:1})])])),_:1})])),_:1})])),_:1})])}}}),[["__scopeId","data-v-27db3977"]]);export{Z as default};
